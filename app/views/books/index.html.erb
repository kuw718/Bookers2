<!DOCTYPE html>
<html>
  <head>
    <title>Bookers2</title>
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>

    <%= stylesheet_pack_tag 'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

<div>
  <%= flash[:notice] %>
</div>

<div class='container px-5 px-sm-0'>
  <br>
  <% if @book.errors.any? %>
    <div id="error_explanation">
      <h3><%= pluralize(@book.errors.count, "error") %> prohibited this obj from being saved:</h3>
      <ul>
        <% @book.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

<%= render 'shared/user_info', user: @user %>

<div class='col-md-8 offset-md-1'>
  <h2>Books</h2>
  <table class='table table-hover table-inverse'>
    <thead>
      <tr>
        <th></th>
        <th>Title</th>
        <th>Opinion</th>
        <th colspan="3"></th>
      </tr>
    </thead>
    <tbody>
<% @books.each do |book| %>
  <tr>
    <td>
      <%= link_to user_path(book.user) do %>
        <%= image_tag book.user.get_profile_image(100,100) %>
      <% end %>
    </td>
    <td><%= link_to book.title, book_path(book) %></td>
    <td><%= book.body %></td>
  </tr>
<% end %>
    </tbody>
  </table>
</div>
</html>